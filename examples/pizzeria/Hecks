Domain.domain(:Pizzeria) do
  aggregate :Pizzas do
    head :Pizza do
      value(:name).as :PizzaName
      value(:description).as :PizzaDescription
      currency(:price)
      list(:toppings).as :Topping
    end
    value(:Topping) { string :name }
    value(:PizzaName) { string :value }
    value(:PizzaDescription) { string :value }
  end

  aggregate :Orders do
    head(:Order) { list(:line_items).as :LineItem }
    value :LineItem do
      string :pizza_name
      integer :quantity
      currency :price
      optional string :foo
    end
  end
end